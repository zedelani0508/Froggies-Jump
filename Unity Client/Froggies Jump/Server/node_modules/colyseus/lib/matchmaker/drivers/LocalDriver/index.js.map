{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/matchmaker/drivers/LocalDriver/index.ts"],"names":[],"mappings":";;;AACA,mCAAgC;AAChC,yCAAuC;AAEvC,MAAa,WAAW;IAAxB;QACS,UAAK,GAAgB,EAAE,CAAC;IAwBjC,CAAC;IAtBQ,cAAc,CAAC,gBAAqB,EAAE;QAC3C,OAAO,IAAI,oBAAS,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAEM,IAAI,CAAC,UAAqC;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,KAAK,MAAM,KAAK,IAAI,UAAU,EAAE;gBAC9B,IACE,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC;oBAChC,IAAI,CAAC,KAAK,CAAC,KAAK,UAAU,CAAC,KAAK,CAAC,EACjC;oBACA,OAAO,KAAK,CAAC;iBACd;aACF;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,CAAC,CAAC;IACN,CAAC;IAEM,OAAO,CAAC,UAAqC;QAClD,OAAO,IAAI,aAAK,CAAkB,IAAI,CAAC,KAAK,EAAE,UAAU,CAAyC,CAAC;IACpG,CAAC;CAEF;AAzBD,kCAyBC","sourcesContent":["import { IRoomListingData, MatchMakerDriver, QueryHelpers, RoomListingData } from '../Driver';\nimport { Query } from './Query';\nimport { RoomCache } from './RoomData';\n\nexport class LocalDriver implements MatchMakerDriver {\n  public rooms: RoomCache[] = [];\n\n  public createInstance(initialValues: any = {}) {\n    return new RoomCache(initialValues, this.rooms);\n  }\n\n  public find(conditions: Partial<IRoomListingData>) {\n    return this.rooms.filter(((room) => {\n      for (const field in conditions) {\n        if (\n          conditions.hasOwnProperty(field) &&\n          room[field] !== conditions[field]\n        ) {\n          return false;\n        }\n      }\n      return true;\n    }));\n  }\n\n  public findOne(conditions: Partial<IRoomListingData>) {\n    return new Query<RoomListingData>(this.rooms, conditions) as any as QueryHelpers<RoomListingData>;\n  }\n\n}\n"]}